# AI Chatbot

Асинхронное FastAPI-приложение с WebSocket, PyTorch, PostgreSQL (pgvector) и Redis, построенное по принципу **DDD + Pipeline Architecture**.  
Система обрабатывает пользовательские сообщения через последовательные этапы (pipeline): кеш → контекст → AI → ответ.  
RAG (Retrieval-Augmented Generation) уже интегрирована для расширения контекста ответов.

---

## Цель

Создать инженерно корректную архитектуру для AI-взаимодействий в реальном времени с возможностью масштабирования в Kubernetes.

---

## Технологии

- **FastAPI + WebSocket** — асинхронный транспорт и двусторонняя связь с клиентом.  
- **PostgreSQL + pgvector** — хранение сообщений и embedding-контекста.  
- **Redis** — кеширование ответов и промежуточных вычислений.  
- **PyTorch** — модели эмбеддингов и генерации.  
- **DDD (Domain-Driven Design)** — разделение бизнес-логики и инфраструктуры.  
- **Pipeline Architecture** — обработка через независимые стадии.  
- **RAG (Retrieval-Augmented Generation)** — расширение контекста для ответов AI.  
- **Kubernetes + Helm** — деплой и масштабирование.

---

## MVP функциональность

1. WebSocket-соединение.  
2. Приём сообщений и создание embedding.  
3. Проверка кеша (Redis).  
4. Поиск контекста через pgvector.  
5. Генерация ответа AI.  
6. Отправка ответа клиенту через WebSocket.
7. Система аутентификации.
8. Рейт-лимит на пользователя.

---

## Текущий статус

- Приём сообщений и создание embedding.
- Проверка кеша.
- Поиск контекста через pgvector.  
- Генерация ответа AI.
- Отправка ответа клиенту через API (пока что без WebSocket'ов).

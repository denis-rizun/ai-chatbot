# AI Pipeline

Лёгкое FastAPI-приложение с WebSocket, PyTorch, PostgreSQL (pgvector) и Redis, построенное по принципу **DDD + Pipeline Architecture**.  
Система предназначена для обработки пользовательских сообщений через последовательные этапы (pipeline): кеш → контекст → AI → ответ.  
В дальнейшем планируется добавить Retrieval-Augmented Generation (RAG) для расширения контекста ответов, но в MVP эта часть отсутствует.

---

## Цель

Реализовать минимальную, но инженерно корректную архитектуру для AI-взаимодействий в реальном времени, пригодную к масштабированию в Kubernetes.

---

## Технологии

- **FastAPI + WebSocket** — асинхронный транспорт и двусторонняя связь с клиентом.  
- **PostgreSQL + pgvector** — хранение сообщений и embedding-контекста.  
- **Redis** — кеширование ответов и промежуточных вычислений.  
- **PyTorch** — для моделей эмбеддингов и генерации.  
- **DDD (Domain-Driven Design)** — отделение бизнес-логики от инфраструктуры.  
- **Pipeline Architecture** — последовательная обработка через независимые стадии.  
- **Kubernetes + Helm** — деплой и масштабирование.

---

## MVP функциональность

1. WebSocket-соединение.  
2. Приём сообщений и создание embedding.  
3. Проверка кеша (Redis).  
4. Поиск контекста по pgvector.  
5. Ответ от AI (PyTorch-модель).   
6. Отправка ответа клиенту через WebSocket.

---